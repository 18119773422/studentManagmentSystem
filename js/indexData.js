!function(n){var e={};function i(t){if(e[t])return e[t].exports;var a=e[t]={i:t,l:!1,exports:{}};return n[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=n,i.c=e,i.d=function(t,a,n){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(a,t){if(1&t&&(a=i(a)),8&t)return a;if(4&t&&"object"==typeof a&&a&&a.__esModule)return a;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var e in a)i.d(n,e,function(t){return a[t]}.bind(null,e));return n},i.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="",i(i.s=88)}({88:function(t,a,n){"use strict";n.r(a);var l;n(89),n(90),n(91);l=window.jQuery,{init:function(){this.baseUrl="http:api.duyiedu.com",this.dataList=null,this.all=null,this.page=1,this.size=15,this.flag=!1,this.msg=null,location.hash=" ",location.hash="#student-list",this.fetchFirstData(),this.bindEvent(),this.addStudent()},fetchFirstData:function(){this.getData("page")},bindEvent:function(){l(".loading_").click(function(){l(this).hide()}),l(window).on("hashchange",function(t){var a=this.location.hash.slice(1);l("#phoneList").collapse("hide"),l("a[href='#".concat(a,"']")).css({color:"#fff"}),l("a[href!='#".concat(a,"']")).css({color:"#ddd"}),l(".current-show").hide().removeClass(".current-show"),l(".".concat(a)).show().addClass("current-show")}),l(".right-content").click(function(){l("#phoneList").collapse("hide")})},handle:function(t,a,n){var e=1<arguments.length&&void 0!==a?a:"findByPage",i=2<arguments.length?n:void 0,o=this,d=Object.assign({appkey:"testData_1554196932590"},t);l.ajax({type:"get",url:o.baseUrl+"/api/student/"+{findByPage:"findByPage",del:"delBySno",add:"addStudent",update:"updateStudent",search:"searchStudent",all:"findAll"}[e],data:d,success:function(t){"fail"==(t=JSON.parse(t)).status&&alert(t.msg),"function"==typeof i&&i(t),t.msg,t.data&&(o.dataList=t.data.findByPage||t.data.searchList,o.all=t.data.cont?t.data.cont:o.dataList.length,localStorage.all=o.all,o.renderDom(o.dataList),window.dataList=o.dataList)}})},renderDom:function(t){l(".loading_").show().find(".success_").show();var n=this,e=(new Date).getFullYear(),a=l(".student-list tbody");if("array"==l.type(t)){var i="";t.forEach(function(t,a){i+="<tr>\n                    <td>".concat(t.sNo,"</td>\n                    <td>").concat(t.name,"</td>\n                    <td>").concat(parseInt(t.sex)?"女":"男","</td>\n                    <td>").concat(e-t.birth,"</td>\n                    <td>").concat(t.phone,"</td>\n                    <td>").concat(t.email,"</td>\n                    <td>").concat(t.address,"</td>\n                    <td>\n                        <button data-index=").concat(a,' class="btn btn-success edit"  data-toggle="modal"\n                        data-target="#myModal">编辑</button>\n                        <button data-index=').concat(a,' class="btn btn-danger del">删除</button>\n                    </td>\n                </tr>')});var o=setTimeout(function(){l(".loading_").hide().find(".success_").hide(),clearTimeout(o)},100);a.html(i),l(".page").turnPage({cur:n.page,all:Math.ceil(n.all/n.size)||1,changePageFun:function(t,a){n.page!=t&&(n.page=t,n.getData("page"))}}),n.dialog()}},getData:function(t,a,n){var e=this;({del:function(t,a,n){e.dataList.length<2&&(e.page--,this.page()),e.dataList.splice(n,1),e.all--,e.renderDom(e.dataList),e.handle(a,t)},add:function(t,a){e.dataList.push(a),e.all++,e.renderDom(e.dataList),l(".form-add button[type=reset]").trigger("click"),e.handle(a,t)},all:function(){e.handle(null,"all")},page:function(){e.handle({page:e.page,size:e.size})},update:function(t,a,n){Object.assign(a,{sNo:e.dataList[n].sNo}),e.dataList.splice(n,1,a),e.renderDom(e.dataList),e.handle(a,t)},verify:function(t){}})[t](t,a,n)},dialog:function(){var e=this;l("form").submit(function(t){return t.preventDefault(),!1}),l(".edit").on("click",function(t){var a,n=null;a=l(this).attr("data-index"),e.backfill(a),n=e.dataList[a].sNo,e.flag=!0,l("#sub").on("click",function(t){t.preventDefault(),(e.flag||n)&&(l("#myModal").modal("hide"),n&&e.getData("update",e.getFormData(l(".form-edit")),a),n=null)})}),l(".del").on("click",function(t){var a,n=null;t.preventDefault(),a=parseInt(l(this).data("index")),n=e.dataList[a].sNo,l(".del-title").text(e.dataList[a].name),l("#delStudent").modal(),e.flag=!0,l(".sure").on("click",function(t){t.preventDefault(),(e.flag||n)&&(l("#delStudent").modal("hide"),n?e.getData("del",{sNo:n},a):console.log("error"),n=null,e.flag=!1)})})},addStudent:function(){var a=this;l(".form-add .btn-success").click(function(t){a.getData("add",a.getFormData(l(".form-add")))})},getFormData:function(t){var a=t.serializeArray(),n={};for(var e in a)n[a[e].name]=a[e].value;return n},backfill:function(t){var a=this.dataList[t],n=l(".form-edit")[0];for(var e in a)n[e]&&(n[e].value=a[e])}}.init()},89:function(t,a,n){},90:function(t,a,n){},91:function(t,a,n){}});